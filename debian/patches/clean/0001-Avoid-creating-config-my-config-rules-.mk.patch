From 788664487c40f0058acb8124ada6e8197e28d9f5 Mon Sep 17 00:00:00 2001
From: Mike Hommey <mh@glandium.org>
Date: Sun, 24 Jan 2010 08:52:15 +0100
Subject: [PATCH 01/11] Avoid creating config/my{config,rules}.mk

https://bugzilla.mozilla.org/show_bug.cgi?id=541767
---
 Makefile.in            |    2 +-
 config/rules.mk        |    6 ------
 js/src/config/rules.mk |    6 ------
 3 files changed, 1 insertions(+), 13 deletions(-)

diff --git a/Makefile.in b/Makefile.in
index dcef73c..2552274 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -83,7 +83,7 @@ include $(topsrcdir)/config/config.mk
 
 GARBAGE_DIRS += dist _javagen _profile _tests staticlib
 DIST_GARBAGE = config.cache config.log config.status config-defs.h \
-   dependencies.beos config/autoconf.mk config/myrules.mk config/myconfig.mk \
+   dependencies.beos config/autoconf.mk \
    unallmakefiles mozilla-config.h \
    netwerk/necko-config.h xpcom/xpcom-config.h xpcom/xpcom-private.h \
    $(topsrcdir)/.mozconfig.mk $(topsrcdir)/.mozconfig.out
diff --git a/config/rules.mk b/config/rules.mk
index 76c943e..af3842c 100644
--- a/config/rules.mk
+++ b/config/rules.mk
@@ -2069,12 +2069,6 @@ endif
 -include $(MY_RULES)
 
 #
-# This speeds up gmake's processing if these files don't exist.
-#
-$(MY_CONFIG) $(MY_RULES):
-	@touch $@
-
-#
 # Generate Emacs tags in a file named TAGS if ETAGS was set in $(MY_CONFIG)
 # or in $(MY_RULES)
 #
diff --git a/js/src/config/rules.mk b/js/src/config/rules.mk
index 76c943e..af3842c 100644
--- a/js/src/config/rules.mk
+++ b/js/src/config/rules.mk
@@ -2069,12 +2069,6 @@ endif
 -include $(MY_RULES)
 
 #
-# This speeds up gmake's processing if these files don't exist.
-#
-$(MY_CONFIG) $(MY_RULES):
-	@touch $@
-
-#
 # Generate Emacs tags in a file named TAGS if ETAGS was set in $(MY_CONFIG)
 # or in $(MY_RULES)
 #
-- 
1.7.0.rc0.69.g2ee80

